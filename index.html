<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>PONG</title>
    <script src="core/draw.js"></script>
  </head>
  <body>
    <main id="pong"></main>
  </body>
  <script>
    const $draw = new $Draw();

    var move1 = (x) => x;
    var move2 = (x) => x;
    document.addEventListener("keydown", (e) => {
      const key = e.key;
      const moves1 = {
        ArrowRight: (x) => x + 4,
        ArrowLeft: (x) => x - 4,
      };
      if (key in moves1) move1 = moves1[key];
      else move1 = (x) => x;

      const moves2 = {
        d: (x) => x + 4,
        a: (x) => x - 4,
      };
      if (key in moves2) move2 = moves2[key];
      else move2 = (x) => x;
    });

    var plus = true;
    $draw.frameByFrame(([x1, x2]) => {
      x1 = move1(x1);
      x2 = move2(x2);

      return [x1, x2];
    }, 60);
  </script>
</html>
